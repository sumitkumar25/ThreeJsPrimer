{"version":3,"sources":["./src/app/network-graph/components/group-layout/group-layout.component.html","./src/app/network-graph/components/group-layout/group-layout.component.ts","./src/app/network-graph/network-graph-routing.module.ts","./src/app/network-graph/network-graph.module.ts","./src/app/network-graph/services/network-graph-request.service.ts","./src/app/network-graph/services/three-factory.service.ts"],"names":[],"mappings":"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","file":"network-graph-network-graph-module-ngfactory-es2015.js","sourcesContent":["<section #stats>\n    <h3>Group Layout</h3>\n    <h6>Render Calls: {{renderCalls}}    Object Count: {{objectCount}} </h6>\n    <div class=\"app--margin__vertical object-range\">\n        <input\n          type=\"range\"\n          id=\"points\"\n          name=\"points\"\n          min=\"3\"\n          max=\"100\"\n          step=\"1\"\n          (change)=\"objectCountChangeHandler($event)\"\n          [value]=\"objectCount\"\n        />\n      </div>\n    <canvas\n      height=\"500\"\n      width=\"1000\"\n      #canvasEl\n      (click)=\"clickHandler($event)\"\n    ></canvas>\n  </section>","/**\n * TODO: check if other possibilities are there for loaded mesh. current 'Group'.\n * TODO: Groups Texture.\n */\nimport {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  OnInit,\n  ViewChild,\n} from \"@angular/core\";\nimport { forkJoin } from \"rxjs\";\nimport { ThreeService } from \"src/app/three/services/three.service\";\nimport * as THREE from \"three\";\nimport { Matrix3, Matrix4, Vector3 } from \"three\";\nimport * as Stats from \"../../../../../node_modules/stats.js/build/stats.min.js\";\nimport { NetworkGraphRequestService } from \"../../services/network-graph-request.service.js\";\nimport { ThreeFactoryService } from \"../../services/three-factory.service.js\";\n@Component({\n  selector: \"app-group-layout\",\n  templateUrl: \"./group-layout.component.html\",\n  styleUrls: [\"./group-layout.component.scss\"],\n})\nexport class GroupLayoutComponent implements OnInit, AfterViewInit {\n  threeCommon: { scene: any; renderer: any; camera: any; controls: any };\n\n  @ViewChild(\"canvasEl\", { static: false, read: ElementRef })\n  canvasEl: ElementRef;\n  @ViewChild(\"stats\", { static: false, read: ElementRef }) statsEl: ElementRef;\n  stats: any;\n\n  // layout class members\n  layoutGeometry: THREE.CircleGeometry;\n  layoutMaterial: THREE.MeshBasicMaterial;\n\n  // performance class memebers.\n  renderCalls: any;\n  objectCount: number = 3;\n  layoutMesh: THREE.Mesh<THREE.CircleGeometry, THREE.MeshBasicMaterial>;\n  nodeMesh: THREE.InstancedMesh<any, THREE.MeshNormalMaterial | any>;\n  instancedNodeMesh: THREE.InstancedMesh<\n    THREE.InstancedBufferGeometry | THREE.BufferGeometry,\n    THREE.MeshBasicMaterial\n  >;\n\n  // Level 1 Response;\n  groupsData: Object;\n\n  // connections\n  connectionsData;\n  line: THREE.Line<THREE.BufferGeometry, THREE.LineBasicMaterial>;\n  constructor(\n    private threeService: ThreeService,\n    private graphRequestService: NetworkGraphRequestService,\n    private threeFactory: ThreeFactoryService\n  ) {}\n\n  ngOnInit() {\n    this.initRequests();\n  }\n\n  ngAfterViewInit(): void {\n    this.threeCommon = this.threeService.getThreeCommon(\n      this.canvasEl.nativeElement,\n      true\n    );\n    this.setUpStats();\n    // this.setUpHelpers();\n    this.threeCommon.camera.position.z = 10;\n    this.threeCommon.camera.aspect =\n      this.canvasEl.nativeElement.offsetWidth /\n      this.canvasEl.nativeElement.offsetHeight;\n    this.threeCommon.renderer.setPixelRatio(window.devicePixelRatio);\n    this.threeCommon.scene.background = \"black\";\n    this.threeCommon.camera.updateProjectionMatrix();\n    this.threeCommon.controls.addEventListener(\n      \"change\",\n      this.renderView.bind(this)\n    );\n  }\n\n  initRequests() {\n    forkJoin(\n      this.graphRequestService.getGroups(),\n      this.graphRequestService.getNodeMesh(),\n      this.graphRequestService.getTrafficConnections()\n    ).subscribe(([groupData, mesh, arg]) => {\n      this.connectionsData = arg[\"data\"];\n      this.nodeMeshResponseHandler(mesh);\n      this.groupsResponseHandler(groupData);\n\n    });\n  }\n\n  nodeMeshResponseHandler(mesh) {\n    if (mesh.type && mesh.type === \"Group\") {\n      this.nodeMesh = mesh.children[0];\n    } else {\n      this.nodeMesh = mesh;\n    }\n  }\n\n  groupsResponseHandler(groupData: Object) {\n    this.groupsData = groupData;\n    this.objectCount = this.groupsData[\"data\"].length;\n    this.sceneController();\n  }\n\n  initLayout() {\n    // this.threeService.cleanScene(this.threeCommon);\n    const radiusOffset = Math.floor(this.objectCount / 10);\n    this.layoutGeometry = new THREE.CircleGeometry(\n      10 + radiusOffset * radiusOffset,\n      this.objectCount,\n      0,\n      2 * Math.PI\n    );\n    this.layoutMaterial = new THREE.MeshPhongMaterial({\n      color: \"white\",\n      transparent: true,\n      opacity: 0.3,\n    });\n    this.layoutMesh = new THREE.Mesh(this.layoutGeometry, this.layoutMaterial);\n    // this.layoutMesh.rotateX(-1);\n    // this.layoutMesh.upda\n    this.threeCommon.scene.add(this.layoutMesh);\n  }\n\n  setUpHelpers() {\n    this.threeCommon.scene.add(new THREE.AxesHelper(50));\n  }\n\n  constructNodes() {\n    this.instancedNodeMesh = new THREE.InstancedMesh(\n      this.nodeMesh.geometry,\n      this.nodeMesh.material,\n      this.objectCount\n    );\n    for (var i = 0; i < this.objectCount; i++) {\n      //using indexes as id.\n      this.instancedNodeMesh.setMatrixAt(i, this.setPositionFromLayout(i));\n    }\n    this.threeCommon.scene.add(this.instancedNodeMesh);\n  }\n\n  setPositionFromLayout(i: number): THREE.Matrix4 {\n    const matrix = new THREE.Matrix4();\n    var position = new THREE.Vector3();\n    var rotation = new THREE.Euler();\n    var quaternion = new THREE.Quaternion();\n    var scale = new THREE.Vector3();\n    if (!this.layoutGeometry.vertices[i]) {\n      console.log(\"no vertex for index\", i + 1);\n    }\n    position = this.layoutGeometry.vertices[i + 1];\n    quaternion.setFromEuler(rotation);\n    scale.x = scale.y = scale.z = 1;\n    matrix.compose(position, quaternion, scale);\n    return matrix;\n  }\n\n  clickHandler($event) {}\n\n  renderView() {\n    this.threeCommon.renderer.render(\n      this.threeCommon.scene,\n      this.threeCommon.camera\n    );\n    this.renderCalls = this.threeCommon.renderer.info.render.calls;\n  }\n\n  objectCountChangeHandler($event) {\n    this.threeService.cleanScene(this.threeCommon);\n    this.objectCount = Number.parseInt($event.target.value, 10);\n    this.sceneController();\n  }\n\n  private sceneController() {\n    this.initLayout();\n    this.constructNodes();\n    this.constructConnection();\n    this.renderView();\n  }\n  constructConnection() {\n    this.line = this.line || this.threeFactory.getLine();\n    let points = [];\n    const nodeMap = this.groupsData[\"data\"].reduce((acc, current, index) => {\n      acc[current.id] = index;\n      return acc;\n    }, {});\n    if(!this.connectionsData){\n      return;\n    }\n    this.connectionsData.forEach((connection) => {\n      let sourceIndex = nodeMap[connection.from];\n      let destinationIndex = nodeMap[connection.to];\n      let sourceMatrix = new Matrix4();\n      let destinationMatrix = new Matrix4();\n      this.instancedNodeMesh.getMatrixAt(sourceIndex, sourceMatrix);\n      this.instancedNodeMesh.getMatrixAt(destinationIndex, destinationMatrix);\n      points.push(\n        new THREE.Vector3().setFromMatrixPosition(sourceMatrix),\n        new THREE.Vector3().setFromMatrixPosition(destinationMatrix),\n      );\n    });\n    //  this.line.geometry.setFromPoints()\n    // console.log(...this.layoutMesh.geometry.vertices.slice(1))\n    this.line.geometry.setFromPoints(points);\n    this.threeCommon.scene.add(this.line);\n  }\n\n  setUpStats() {\n    this.stats = new Stats();\n    this.stats.showPanel(1); // 0: fps, 1: ms, 2: mb, 3+: custom\n    this.statsEl.nativeElement.appendChild(this.stats.dom);\n    this.stats.update();\n  }\n\n  // updateStats() {\n  //   window.requestAnimationFrame(this.updateStats.bind(this));\n  // }\n}\n","import { Component, NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\nimport { NetworkGraphRoutes } from \"../common/enums/network-graph-routes.enum\";\nimport { GroupLayoutComponent } from \"./components/group-layout/group-layout.component\";\n\nconst routes: Routes = [\n  {\n    path: `${NetworkGraphRoutes.groupLayout}`,\n    component: GroupLayoutComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NetworkGraphRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NetworkGraphRoutingModule } from './network-graph-routing.module';\nimport { GroupLayoutComponent } from './components/group-layout/group-layout.component';\n\n\n@NgModule({\n  declarations: [GroupLayoutComponent],\n  imports: [\n    CommonModule,\n    NetworkGraphRoutingModule\n  ]\n})\nexport class NetworkGraphModule { }\n","import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { from } from \"rxjs\";\nimport { OBJLoader } from \"./../../../../node_modules/three/examples/jsm/loaders/OBJLoader\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class NetworkGraphRequestService {\n  private GEOMETRY_URL = \"assets/network-graph/geometry/node.obj\";\n  private MOCK_GROUPS_URL = \"assets/network-graph/server/groups.json\";\n  private MOCK_CONNECTIONS_URL: string =\n    \"assets/network-graph/server/connections.json\";\n  constructor(private httpClient: HttpClient) {}\n\n  getNodeMesh() {\n    return from(new OBJLoader().loadAsync(this.GEOMETRY_URL));\n  }\n\n  getGroups() {\n    return this.httpClient.get(this.MOCK_GROUPS_URL);\n  }\n\n  getTrafficConnections() {\n    return this.httpClient.get(this.MOCK_CONNECTIONS_URL);\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport * as THREE from \"three\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ThreeFactoryService {\n  constructor() {}\n\n  getLine() {\n    const lineMaterial = new THREE.LineBasicMaterial({ color: 0x216491 });\n    const lineGeometry = new THREE.BufferGeometry();\n    return new THREE.Line(lineGeometry, lineMaterial);\n  }\n}\n"],"sourceRoot":""}